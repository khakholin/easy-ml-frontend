<app-business-header [(buttons)]="headerButtons" (onBurgerClick)="onBurgerClick($event)">
</app-business-header>
<div cdkDropListGroup class="building-models-group">

    <div class="building-models-sidebar" [ngClass]="{'building-models-sidebar_hide': !isSidebarShown}">
        <div class="building-models-sidebar-content" cdkDropList [cdkDropListData]="sidebarBlocks"
            cdkDropListSortingDisabled>
            <div class="building-models-sidebar-block" cdkDrag *ngFor="let item of sidebarBlocks">
                {{item.blockType}}
            </div>
        </div>
        <div class="building-models-sidebar-add">
            <div class="building-models-sidebar-add__title" [routerLink]="['/block-form']">+ добавить блок</div>
        </div>
    </div>

    <!-- <div cdkDropList [cdkDropListData]="sidebarBlocks" cdkDropListSortingDisabled class="example-list" >
        <div class="example-box" *ngFor="let item of sidebarBlocks" cdkDrag>{{item.blockType}}</div>
    </div> -->

    <drag-scroll class="building-models-wrapper" [ngClass]="{'building-models-wrapper_shift': isSidebarShown}"
        style="width: '100%';">
        <div class="example-list">
            <div *ngFor="let subTree of canvasBlocks" cdkDropList cdkDropListOrientation="horizontal"
                [cdkDropListData]="subTree" (cdkDropListDropped)="drop($event)">
                <div class="example-row">
                    <div class="example-box" [id]="'box' + getBlockId(subTree, index)"
                        *ngFor="let item of subTree; index as index" cdkDrag
                        (click)="onBlockClick('box' + getBlockId(subTree, index))">
                        {{item.blockType}}
                    </div>
                </div>
            </div>
            <svg *ngIf="linesArrayStatus" class="svg">
                <defs>
                    <marker id="triangle" viewBox="0 0 10 10" refX="8" refY="5" markerUnits="strokeWidth"
                        markerWidth="5" markerHeight="5" orient="auto">
                        <path d="M 0 0 L 10 5 L 0 10 z" fill="#000" />
                    </marker>
                </defs>
                <line *ngFor="let item of linesArray" class="line" [attr.x1]="item.x1" [attr.y1]="item.y1"
                    [attr.x2]="item.x2" [attr.y2]="item.y2" #line class="line original" marker-end="url(#triangle)" />
            </svg>
        </div>
    </drag-scroll>
    <!-- <app-building-models-sidebar [blocks]="sidebarBlocks" [isShown]="isSidebarShown"></app-building-models-sidebar> -->
    <!-- <drag-scroll class="building-models-wrapper" [ngClass]="{'building-models-wrapper_shift': isSidebarShown}">
        <app-building-models-canvas></app-building-models-canvas>
    </drag-scroll> -->
</div>